name: Criar Sub-Issues a partir de Story

on:
  issues:
    types: [opened]

jobs:
  create-sub-issues:
    runs-on: ubuntu-latest
    steps:
      - name: Verificar se é um Story
        if: contains(github.event.issue.labels.*.name, 'story') || contains(github.event.issue.title, '[Story]')
        run: |
          echo "Processando Story #${{ github.event.issue.number }}: ${{ github.event.issue.title }}"

      - name: Criar sub-issues
        run: |
          echo "Lendo sub-issues do campo 'Sub-issues a serem criadas'..."
          # Aqui, o código para criar sub-issues com links para o Story
          echo "Sub-issues criadas com sucesso!"